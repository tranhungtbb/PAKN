<div class="container-fluid p-0">
	<div class="row">
		<div class="col-lg-12">
			<ol class="breadcrumb title-module px-0 bg-transparent mb-0">
				<li class="breadcrumb-item"><a>Hệ thống</a></li>
				<li class="breadcrumb-item active"><a class="font-weight-bold">Lịch sử chatbot</a></li>
			</ol>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card mb-0 shadow-none">
				<div class="table-responsive">

					<p-table #table [value]="listData" [lazy]="true" (onLazyLoad)="onPageChange($event)" [paginator]="true" [showCurrentPageReport]="true"
						currentPageReportTemplate="Tổng số {{totalRecords}}" [rows]="pageSize" [totalRecords]="totalRecords" [responsive]="true" autoLayout="true"
						tableStyleClass="table table-sd table-responsive-md table-striped mb-0">
						<ng-template pTemplate="header" class="bg-thead">
							<tr>
								<th style="width: 50px">
									<p class="mb-1 d-flex justify-content-between align-items-center label-thead">
										<strong>STT</strong>
									</p>
								</th>
								<th style="width: 250px">
									<p class="mb-1 d-flex justify-content-between align-items-center label-thead">
										<strong>Tên</strong>
									</p>
									<input class="form-control form-control-sm" [(ngModel)]="fullName" maxlength="100" (keydown.enter)="dataStateChange()"
										placeholder="Nhập tên..." />
										<button *ngIf="fullName" class="btn bg-transparent btn-clear-input" (click)="fullName=''">
											<i class="fa fa-times"></i>
										</button>
								</th>
								<th style="width: 350px">
									<p class="mb-1 d-flex justify-content-between align-items-center label-thead">
										<strong>Câu hỏi</strong>
									</p>
									<input class="form-control form-control-sm" [(ngModel)]="question" maxlength="100" (keydown.enter)="dataStateChange()"
										placeholder="Nhập câu hỏi..." />
										<button *ngIf="question" class="btn bg-transparent btn-clear-input" (click)="question=''">
											<i class="fa fa-times"></i>
										</button>
								</th>
								<th>
									<p class="mb-1 d-flex justify-content-between align-items-center label-thead">
										<strong>Trả lời</strong>
									</p>
									<input class="form-control form-control-sm" [(ngModel)]="answer" maxlength="100" (keydown.enter)="dataStateChange()"
										placeholder="Nhập câu trả lời..." />
										<button *ngIf="answer" class="btn bg-transparent btn-clear-input" (click)="answer=''">
											<i class="fa fa-times"></i>
										</button>
								</th>
								<th>
									<p class="mb-1 d-flex justify-content-between align-items-center label-thead">
										<strong>Ngày tạo</strong>
									</p>
									<input class="form-control form-control-sm" placeholder="Nhập..." [(ngModel)]="createdDate" (keydown.enter)="dataStateChange()" bsDatepicker
										#n="bsDatepicker" maxlength="10" appBsDatepickerInvalid id="createDate"
										[bsConfig]="{dateInputFormat: 'DD/MM/YYYY', containerClass: 'theme-dark-blue', adaptivePosition: true}" />
									<div class="input-group-addon">
										<i class="far fa-calendar-alt" (click)="n.toggle()" [attr.aria-expanded]="n.isOpen"></i>
									</div>
								</th>
							</tr>
						</ng-template>
						<ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
							<tr>
								<td class="text-center">{{rowIndex + 1}}</td>
								<td>
									<strong><a (click)="preView(item)" class="ellipsis text-dark" type="button" title="Xem chi tiết">{{item.fullName}}</a></strong>
								</td>
								<td>
									<strong><a (click)="preView(item)" class="ellipsis text-dark" type="button" title="Xem chi tiết">{{item.question}}</a></strong>
								</td>
								<td>{{item.answer}}</td>
								<td>{{item.createdDate | date : 'dd/MM/yyyy HH:mm'}}</td>
							</tr>
						</ng-template>
						<ng-template pTemplate="emptymessage">
							<tr>
								<td class="text-center" colspan="6">Không có dữ liệu</td>
							</tr>
						</ng-template>
					</p-table>
				</div>
			</div>
		</div>
	</div>
</div>

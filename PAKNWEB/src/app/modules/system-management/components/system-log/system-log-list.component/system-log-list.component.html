
<div class="panel-group">
  <section class="content">
    <div class="row">
      <ol class="breadcrumb">
        <li>
          <a class="text-black" routerLink="/business/business-management/dash-board">Trang chủ</a>
        </li>
        <li>
          <a class="text-black">Hệ thống</a>
        </li>
        <li>
          <a>Lịch sử hệ thống</a>
        </li>
      </ol>
      <button class="btn btn-sm btn-previous pull-right" appSvBackButton><i class="far fa-undo-alt"></i> Quay lại</button>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="row">
              <div class="col-md-offset-5 col-md-7 panel-heading-group">
                <div class="form-row">
                  <div class="search-item">
                    <div class="input-group date">
                      <input type="text" class="form-control pull-right" bsDatepicker #fd="bsDatepicker" placeholder="Từ ngày ..."
                             [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass:'theme-dark-blue' }"
                             [(ngModel)]="_fromDate">
                      <div class="input-group-addon" (click)="fd.toggle()" [attr.aria-expanded]="fd.isOpen">
                        <i class="far fa-calendar-alt"></i>
                      </div>
                    </div>
                  </div>
                  <div class="search-item">
                    <div class="input-group date">
                      <input type="text" class="form-control pull-right" bsDatepicker #td="bsDatepicker" placeholder="Đến ngày ..."
                             [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass:'theme-dark-blue' }"
                             [(ngModel)]="_toDate">
                      <div class="input-group-addon" (click)="td.toggle()" [attr.aria-expanded]="td.isOpen">
                        <i class="far fa-calendar-alt"></i>
                      </div>
                    </div>
                  </div>
                  <div>
                    <button class="btn btn-primary btn-sm" (click)="dataStateChange()">
                      <i class="fal fa-search"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <p-table [value]="systemLoglst" [lazy]="true" (onLazyLoad)="onPageChange($event)" [paginator]="true" [(selection)]="systemlogdelete" dataKey="ma"
                   [rows]="pageSize" [totalRecords]="total" [rowsPerPageOptions]="[10,20,30]" [responsive]="true" autoLayout="true"
                   (onRowSelect)="onSelectedKeysChange()" (onRowUnselect)="onSelectedKeysChange()" (onHeaderCheckboxToggle)="onSelectedHeaderChange($event)"
                   [showCurrentPageReport]="true" currentPageReportTemplate="Tổng số {{total}}">
            <ng-template pTemplate="header">
              <tr>
                <th style="width: 50px">
                  STT
                </th>
                <th>
                  Người dùng
                </th>
                <th>
                  Nội dung
                </th>
                <th>
                  Thời gian hành động
                </th>
                <th>
                  Địa chỉ IP
                </th>
                <th>
                  Trạng thái
                </th>
                <th>Hành động</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowIndex="rowIndex" let-syslog>
              <tr>
                <td class="text-center">{{rowIndex + 1}}</td>
                <td>{{syslog.tenNguoiDung}}</td>
                <td>{{syslog.noiDung}}</td>
                <td class="text-center">{{syslog.ngayHanhDong | date:"hh:mm dd/MM/yyyy"}}</td>
                <td class="text-center">{{syslog.diaChiIP}}</td>
                <td class="text-center">
                  {{syslog.trangThai}}
                </td>
                <td class="text-center">
                  <a title="Xóa" (appConfirmClick)="deleteSingle(syslog.ma)" *hasPermission="['3', 'A_V_1']"><i class="far fa-trash"></i></a>
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="6">
                  Không tìm thấy dữ liệu
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </section>
</div>


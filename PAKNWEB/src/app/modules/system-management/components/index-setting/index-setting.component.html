<div class="container-fluid p-0">
	<div class="row">
		<div class="col-lg-12">
			<ol class="breadcrumb title-module px-0 bg-transparent mb-0">
				<li class="breadcrumb-item"><a>Hệ thống</a></li>
				<li class="breadcrumb-item active"><a class="font-weight-bold">Cấu hình trang chủ</a></li>
			</ol>
			<div class="btn-group group-button-table" role="group">
				<a class="btn btn-sm btn-default rounded mr-3" style="border: 1px solid gray;" (click)="redirect()">
					<i class="bi bi-arrow-left"></i>&nbsp;
					Quay lại
				</a>
				<button *hasPermission="['3', 'A_XIX_0']" class="btn btn-sm grd-blue text-white rounded border-0 mr-3"
					(click)="onSave(true)">Xem trước</button>
				<button *hasPermission="['3', 'A_XIX_0']" class="btn btn-sm grd-green text-white rounded border-0 mr-3"
					(click)="onSave()">Công bố</button>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-9" style="padding-left: 60px;padding-top: 20px;">
			<form class="form-horizontal" [formGroup]="form">
				<div class="row form-group">
					<div class="col-sm-12">
						<label class="control-label">Meta title <span class="text-danger">(*)</span></label>
						<input placeholder="Nhập nội dung .." svTrim class="form-control" formControlName="metaTitle"
							[(ngModel)]="model.metaTitle" maxlength="200" />
						<div
							*ngIf="(submitted && f.metaTitle.invalid) || (f.metaTitle.invalid && (f.metaTitle.dirty || f.metaTitle.touched))"
							class="has-error m-b-12">
							<div *ngIf="f.metaTitle.errors.required">
								<span class="help-block">Trường dữ liệu này không để trống</span>
							</div>
						</div>
					</div>
					<div class="col-sm-12">
						<label class="control-label">Meta description <span class="text-danger">(*)</span></label>
						<textarea placeholder="Nhập nội dung .." svTrim class="form-control" rows="4"
							formControlName="metaDescription" [(ngModel)]="model.metaDescription" maxlength="350"></textarea>
						<div
							*ngIf="(submitted && f.metaDescription.invalid) || (f.metaDescription.invalid && (f.metaDescription.dirty || f.metaDescription.touched))"
							class="has-error m-b-12">
							<div *ngIf="f.metaDescription.errors.required">
								<span class="help-block">Trường dữ liệu này không để trống</span>
							</div>
						</div>
					</div>
					<div class="col-sm-12 padding-col ps-relative pb-4">
						<label class="control-label department">Banner lớn</label>
						<input class="form-control" (change)="ChangeBanner($event)" id="bannerImg" hidden type="file" />
						<a *hasPermission="['3', 'A_XIX_1']" class="btn btn-sm btn-default rounded mr-3 btn-change-banner"
							title="Thay banner" type="button" (click)="ChooseBanner()">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
								class="bi bi-card-image" viewBox="0 0 16 16">
								<path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" />
								<path
									d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54A.505.505 0 0 1 1 12.5v-9a.5.5 0 0 1 .5-.5h13z" />
							</svg>
							<span class="ml-2" style="text-transform: none;">Thay banner</span>
						</a>
						<div style="max-height:250px;width: auto;height:250px;">
							<img [src]="bannerUrl" id="bannerIntroduce"
								style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
						</div>


					</div>
					<div class="col-sm-12 padding-col">
						<label class="control-label department">Chân trang<span class="text-danger">(*)</span></label>
						<div class="row" style="background: #EDF5FF; padding: 30px 20px;">
							<div class="col-sm-7">
								<div class="description">
									<div class="img-quoc-huy">
										<img style="width: 100%; height: 100%; object-fit: cover;"
											src="../../../../../assets/dist//images/svg/quoc-huy.svg">
									</div>
									<div style="padding: 0px 10px; width: auto;">
										<h3>Hệ thống tiếp nhận phản ánh kiến nghị</h3>
										<h1>Tỉnh khánh hòa 111</h1>
									</div>
								</div>

								<textarea class="form-control" formControlName="description" [(ngModel)]="model.description"
									maxlength="600" rows="3" placeholder="Nhập.."></textarea>
								<div
									*ngIf="(submitted && f.description.invalid) || (f.description.invalid && (f.description.dirty || f.description.touched))"
									class="has-error m-b-12">
									<div *ngIf="f.description.errors.required">
										<span class="help-block">Trường dữ liệu này không để trống</span>
									</div>
								</div>
							</div>
							<div class="col-sm-5">
								<div class="row">
									<div class="col-12" class="info-left">
										<div class="icon-info center">
											<i class="bi bi-telephone-fill"></i>
										</div>
										<div style="width: 90%;">
											<input class="form-control" formControlName="phone" [(ngModel)]="model.phone" maxlength="100"
												placeholder="Nhập.." />
											<div
												*ngIf="(submitted && f.phone.invalid) || (f.phone.invalid && (f.phone.dirty || f.phone.touched))"
												class="has-error m-b-12">
												<div *ngIf="f.phone.errors.required">
													<span class="help-block">Trường dữ liệu này không để trống</span>
												</div>
												<div *ngIf="f.phone.errors.pattern">
													<span class="help-block">Định dạng sđt không đúng</span>
												</div>
											</div>
										</div>
									</div>

									<div class="col-12" class="info-left">
										<div class="icon-info center">
											<i class="bi bi-envelope-open-fill"></i>
										</div>
										<div style="width: 90%;">
											<input class="form-control" formControlName="email" [(ngModel)]="model.email" maxlength="100"
												placeholder="Nhập.." />
											<div
												*ngIf="(submitted && f.email.invalid) || (f.email.invalid && (f.email.dirty || f.email.touched))"
												class="has-error m-b-12">
												<div *ngIf="f.email.errors.required">
													<span class="help-block">Trường dữ liệu này không để trống</span>
												</div>
												<div *ngIf="f.email.errors.email">
													<span class="help-block">Định dạng email không đúng</span>
												</div>
											</div>
										</div>
									</div>
									<div class="col-12" class="info-left">
										<div class="icon-info center">
											<i class="bi bi-geo-alt-fill"></i>
										</div>
										<div style="width: 90%;">
											<textarea class="form-control" formControlName="address" [(ngModel)]="model.address"
												maxlength="250" rows="3" placeholder="Nhập.."></textarea>
											<div
												*ngIf="(submitted && f.address.invalid) || (f.address.invalid && (f.address.dirty || f.address.touched))"
												class="has-error m-b-12">
												<div *ngIf="f.address.errors.required">
													<span class="help-block">Trường dữ liệu này không để trống</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-sm-12 padding-col" style="background: #E9F2FD;">
						<input class="form-control" formControlName="license" [(ngModel)]="model.license" maxlength="500"
							placeholder="Nhập.." style="width: 96%;margin: 15px 15px;" />
						<div
							*ngIf="(submitted && f.license.invalid) || (f.license.invalid && (f.license.dirty || f.license.touched))"
							class="has-error m-b-12">
							<div *ngIf="f.license.errors.required">
								<span class="help-block">Trường dữ liệu này không để trống</span>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-3" style="padding-top: 20px; border: 1px solid #E5E5E5;">
			<div class="col-sm-12 no-padding">
				<div class="d-flex">
					<label class="control-label department">Banner Slidebar</label>
					<a *hasPermission="['3', 'A_XIX_2']" class="btn btn-sm grd-blue text-white rounded border-0 ml-3"
						(click)="preInsertBanner()">
						<i class="bi bi-upload"></i>&nbsp;
						Tải lên
					</a>
				</div>

				<input hidden type="file" id="insertBanner" (change)="onInsertBanner($event)">

				<div class="lstBanner">
					<div class="item-banner shadow" *ngFor="let item of lstIndexSettingBanner">
						<img style="width: 100%;height: 100%; object-fit: cover;" [src]="item.fileAttach">
						<div *hasPermission="['3', 'A_XIX_5']" class="remove-banner center" (click)="onDeleteBanner(item)"><i
								class="bi bi-x"></i></div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 no-padding" style="text-align: center;">
				<label class="control-label department">Liên kết website</label>
				<form *hasPermission="['3', 'A_XIX_3']" [formGroup]="formWebsite">
					<input class="form-control" formControlName="nameWebsite" [(ngModel)]="modelWebsite.nameWebsite"
						maxlength="100" placeholder="Tên website.." style="margin-top: 10px;" />
					<div
						*ngIf="(submittedWebsite && fWebsite.nameWebsite.invalid) || (fWebsite.nameWebsite.invalid && (fWebsite.nameWebsite.dirty || fWebsite.nameWebsite.touched))"
						class="has-error m-b-12">
						<div *ngIf="fWebsite.nameWebsite.errors.required">
							<span class="help-block">Trường dữ liệu này không để trống</span>
						</div>
					</div>

					<input class="form-control" formControlName="urlWebsite" [(ngModel)]="modelWebsite.urlWebsite" maxlength="100"
						placeholder="Đường dẫn website.." style="margin-top: 10px;" />
					<div
						*ngIf="(submittedWebsite && fWebsite.urlWebsite.invalid) || (fWebsite.urlWebsite.invalid && (fWebsite.urlWebsite.dirty || fWebsite.urlWebsite.touched))"
						class="has-error m-b-12">
						<div *ngIf="fWebsite.urlWebsite.errors.required">
							<span class="help-block">Trường dữ liệu này không để trống</span>
						</div>
						<div *ngIf="fWebsite.urlWebsite.errors.pattern">
							<span class="help-block">Định dạng đường dẫn không đúng</span>
						</div>
					</div>
					<a class="btn btn-sm grd-blue text-white rounded border-0 mr-3" (click)="onSaveWebsite()"
						style="width: 100%;margin-top: 10px;padding-left: 33%;">
						Thêm liên kết
					</a>


				</form>


				<div class="lstWebsite mb-4">
					<div *ngIf="!ltsIndexSettingWebsite || ltsIndexSettingWebsite.length == 0">Chưa có liên kết website nào</div>
					<div class="item-website" *ngFor="let item of ltsIndexSettingWebsite">
						<div class="title-website" style="text-align: left;">{{item.nameWebsite}}</div>
						<div class="d-flex">
							<i class="bi bi-paperclip"></i>
							<a src="" class="text-1line">{{item.urlWebsite}}</a>
						</div>
						<div *hasPermission="['3', 'A_XIX_4']" class="remove-banner center" style="z-index: 100;"
							(click)="onDeleteWebsite(item.nameWebsite)"><i class="bi bi-x"></i></div>
					</div>
				</div>
			</div>
		</div>



	</div>

</div>
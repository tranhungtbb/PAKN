<div class="content-body">
<div class="container-fluid p-0">
	<div class="row">
		<div class="col-lg-12">
			<ol class="breadcrumb title-module px-0 bg-transparent mb-0">
				<li class="breadcrumb-item"><a class="font-weight-bold uppercase"> Kết quả xử lý phản ánh, kiến nghị về KT-XH tỉnh Khánh Hòa</a></li>
			</ol>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card mb-0 shadow-none">
				<div class="row p-3" style="background-color: #f6f6f6;">
					<div class="col col-sm-2 form-group mb-0">
						<div class="dropdown bootstrap-select form-control form-control-sm">
							<ng-select  notFoundText="Không có dữ liệu" [clearable]="false" placeholder="Năm" class="form-control" [items]="listYear"
								 bindLabel="text" bindValue="value" [(ngModel)]="year" [closeOnSelect]="true"
								 (change)="changeYear()">
							 </ng-select>
						 </div>
					</div>
					<div class="col col-sm-2 form-group mb-0">
						<div class="dropdown bootstrap-select form-control form-control-sm">
							<ng-select  notFoundText="Không có dữ liệu" class="form-control" placeholder="Quý" [clearable]="true" [items]="listQuarter"
								 bindLabel="text" bindValue="value" [(ngModel)]="quarter" [closeOnSelect]="true"
								 (change)="changeQuarter()">
							 </ng-select>
						 </div>
					</div>
					<div class="col col-sm-2 form-group mb-0">
						<input id="from_date" class="form-control-sm form-control" type="text" bsDatepicker #nv="bsDatepicker"
							[(ngModel)]="fromDate" [maxDate]="maxDateValue"
							[bsConfig]="{
								adaptivePosition: true,
								dateInputFormat: 'DD/MM/YYYY',
								containerClass: 'theme-dark-blue'
							}" datetime="DD/MM/YYYY" placeholder="Từ ngày" (bsValueChange)="fromDateValueChange($event)" />
						<span class="input-group-addon" (click)="nv.toggle()" [attr.aria-expanded]="nv.isOpen">
							<i class="fal fa-calendar"></i>
						</span>
					</div>
					<div class="col col-sm-2 form-group mb-0">
						<input id="to_date" class="form-control-sm form-control" type="text" bsDatepicker #nvto="bsDatepicker"
							[(ngModel)]="toDate" [maxDate]="maxDateValue"
							[bsConfig]="{
								adaptivePosition: true,
								dateInputFormat: 'DD/MM/YYYY',
								containerClass: 'theme-dark-blue'
							}" datetime="DD/MM/YYYY" placeholder="Đến ngày" (bsValueChange)="toDateValueChange($event)" />
						<span class="input-group-addon" (click)="nvto.toggle()" [attr.aria-expanded]="nvto.isOpen">
							<i class="fal fa-calendar"></i>
						</span>
					</div>
				</div>
				<div class="table-responsive">
					<p-table #table [value]="listData" [paginator]="true" [rows]="20" sortMode="multiple"
						[showCurrentPageReport]="true" [rowsPerPageOptions]="[20,30,50]"
						currentPageReportTemplate="Tổng số {{table.totalRecords}}" [totalRecords]="totalRecords"
						[responsive]="true" 
						autoLayout="true"
						tableStyleClass="table table-sd table-responsive-md table-striped mb-0">
						<ng-template pTemplate="header">
							<tr>
								<th rowspan="6" class="text-center middle" style="width: 50px;">STT</th>
								<th rowspan="6" colspan="2" class="text-center middle text-uppercase">Đơn vị/Phòng ban</th>
								<th rowspan="2" colspan="3" class="text-center middle text-uppercase">Số PAKN được tiếp nhận</th>
								<th rowspan="2" colspan="6" class="text-center middle text-uppercase">Kết quả xử lý PAKN</th>
								<th rowspan="3" colspan="4" class="text-center middle text-uppercase">Đánh giá</th>
								<th rowspan="6" colspan="1" class="text-center middle text-uppercase" style="width: 100px;">Số lượng PAKN Đăng tải công khai kết quả xử lý</th>
							</tr>
							<tr></tr>
							<tr>
								<th rowspan="5" colspan="1" class="text-center middle" style="width: 60px;">Tổng số</th>
								<th rowspan="1" colspan="2" class="text-center middle">Chia ra</th>
								<th rowspan="1" colspan="3" class="text-center middle">Đã xử lý</th>
								<th rowspan="1" colspan="3" class="text-center middle">Đang xử lý</th>
							</tr>
							<tr>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">PAKN về dịch vụ công</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">PAKN về KTXH</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Tổng số</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Đúng hạn</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Quá hạn</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Tổng số</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Đúng hạn</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Quá hạn</th>

								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Tổng số</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Hài lòng</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Chấp nhận</th>
								<th rowspan="2" colspan="1" class="text-center middle" style="width: 60px;">Không hài lòng</th>
							</tr>
							
						</ng-template>
						<ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
							<tr>
								<td class="text-center">{{rowIndex + 1}}</td>
								<td>
									<p class="text-2line mb-0">{{item.content}}</p>
								</td>
								<td>
									<p class="mb-0">item.fieldName</p>
								</td>
								<td>
									<p class="mb-0">item.phone</p>
								</td>
								<td>
									<p class="mb-0">item.unitName</p>
								</td>

								<td>
									<p class="mb-0">item.userProcessName</p>
								</td>
								<td>
									<p class="mb-0">item.receivedDate</p>
								</td>
								
								<td>
									<p class="mb-0">item.conclusionDate</p>
								</td>
								<td>
									<span *ngIf="item.status == 1">Đang soạn thảo</span>
									<span *ngIf="item.status == 2">Chờ xử lý</span>
									<span *ngIf="item.status == 3">Từ chối tiếp nhận</span>
									<span *ngIf="item.status == 4">Đã tiếp nhận</span>
									<span *ngIf="item.status == 5">Chờ giải quyết</span>
									<span *ngIf="item.status == 6">Từ chối giải quyết</span>
									<span *ngIf="item.status == 7">Đang giải quyết</span>
									<span *ngIf="item.status == 8">Chờ phê duyệt</span>
									<span *ngIf="item.status == 9">Từ chối phê duyệt</span>
									<span *ngIf="item.status == 10">Đã giải quyết</span>
									<span *ngIf="item.status == 11">Đã chuyển</span>
								</td>
							</tr>
						</ng-template>
						<ng-template pTemplate="emptymessage">
							<tr>
								<td class="text-center" colspan="18">Không có dữ liệu</td>
							</tr>
						</ng-template>
					</p-table>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

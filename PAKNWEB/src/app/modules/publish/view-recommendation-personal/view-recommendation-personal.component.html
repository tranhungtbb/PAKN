<!--**********************************
            Content body start
        ***********************************-->
<div class="content-nd">
	<div class="container">
		<div class="row justify-content-between pt-5">
			<div class="col-lg-8 col-md-8">
				<ol class="breadcrumb px-0 bg-transparent">
					<li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
					<li class="breadcrumb-item active"><a href="#" class="font-weight-bold">Phản ánh, Kiến nghị</a></li>
				</ol>
				<div class="box">
					<p class="card-text h3 mb-3"><span style="font-weight: 300;">Kiến nghị về việc: </span>
						{{model.title}}
					</p>
					<div class="py-2 mb-4 d-flex justify-content-between align-items-center border-bottom border-top">
						<div class="media align-items-center">
							<div class="avatar-circle mr-2" style="background: #EBF2FF; color: #5D90F1">
								{{model.shortName}}
							</div>
							<div class="media-body">
								<p class="my-0 h5">{{model.name}}</p>
							</div>

						</div>
						<span>{{model.createdDate | date:'HH:mm'}} ngày {{model.createdDate | date:'dd/MM/yyyy'}}</span>
					</div>
					<div class="m-3">
						<span class="pr-5">
							<span class="my-0 h5">Đơn vị tiếp nhận :</span> {{model.unitName}}
						</span>
						<span *ngIf="model.fieldName">
							<span class="my-0 h5">Lĩnh vực :</span> {{model.fieldName}}
						</span>
					</div>

					<div class="media pb-4 mb-4 box-message-publish">
						<div class="mr-3">
							<div *ngIf="model.fieldFilePath==null">
								<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
									class="bi bi-chat-right-text" viewBox="0 0 16 16">
									<path
										d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z" />
									<path
										d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
								</svg>
							</div>
							<div *ngIf="model.fieldFilePath!=null">
								<img [src]="model.fieldFilePath" width="40" height="40" style="filter: invert(45%) sepia(98%) saturate(5218%) hue-rotate(
									208deg) brightness(99%) contrast(85%);">
							</div>
						</div>

						<div class="media-body">
							<p class="h4 font-italic font-weight-bold">Nội dung phản ánh kiến nghị:</p>
							<p innerHTML="{{model.content | Change}}" style="text-align: justify;"></p>

							<span class="text-left">
								<small class="small" *ngIf="filesModel && filesModel.length > 0">Tài liệu đính kèm</small><br>
								<div *ngFor="let file of filesModel" cursor="pointer">
									<!-- file-att -->
									<a *ngIf="file.fileType == 1" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-word.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
										<!-- {{file.name.length > 15? file.name.slice(0,14) + "..." :
											file.name}} -->
									</a>
									<a *ngIf="file.fileType == 2" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-excel.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 3" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-pdf.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 4" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-image.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 6" appViewFile [linkfile]="file.filePath" [namefile]="file.name"
										title="Xem file" style="color: #333;">
										<img src="../../../../assets/dist/images/file-powerpoint.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 7" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/mp4-svgrepo-com.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>

									<!-- <span style="margin-left:15px;" *ngFor="let file of filesModel" class="pointer">
										<span>

											<a *ngIf="file.fileType == 1" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>
											</a>
											<a *ngIf="file.fileType == 2" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 3" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 4" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 6" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 7" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>

										</span>
									</span> -->

									<i (click)="DownloadFile(file)" class="ml-2 bi bi-download"></i>

								</div>
							</span>
						</div>
					</div>
					<div class="media pb-4 mb-4 box-message-publish" *ngIf="[3,6,10].includes(model.status)">
						<div class="mr-3" style="width:40px;">
							<!-- <img *ngIf="[10].includes(model.status)" [src]="model.fieldFilePath" width="40" height="40" style="filter: invert(45%) sepia(98%) saturate(5218%) hue-rotate(
								208deg) brightness(99%) contrast(85%)">
							<img *ngIf="[3].includes(model.status)" [src]="model.fieldFilePath" width="40" height="40"
								style="filter : invert(48%) sepia(65%) saturate(1406%) hue-rotate(-35deg) brightness(91%) contrast(125%)"> -->
						</div>
						<div class="media-body">
							<div class="tt-v1 d-flex justify-content-between">
								<p *ngIf="!model.processUnitName" class="h4 font-italic font-weight-bold ">{{model.unitName}}
									trả lời:
								</p>
								<p *ngIf="model.processUnitName" class="h4 font-italic font-weight-bold ">
									{{model.processUnitName}} trả
									lời:</p>
								<p *ngIf="[10].includes(model.status)" class="mb-0">{{model.approvedDate | date:'HH:mm'}} ngày
									{{model.approvedDate | date : 'dd/MM/yyyy'}}</p>
								<p *ngIf="[3].includes(model.status)" class="mb-0">{{model.denyDate | date:'HH:mm'}} ngày
									{{model.denyDate | date : 'dd/MM/yyyy'}}</p>
							</div>

							<ng-container *ngIf="[3,6].includes(model.status)">
								<p innerHTML="{{model.reasonDeny | Change}}" style="text-align: justify;"></p>
							</ng-container>
							<ng-container *ngIf="model.status > 5">
								<p innerHTML="{{modelConclusion.content | Change}}" style="text-align: justify;"></p>
								<div *ngFor="let file of filesModel" cursor="pointer">
									<!-- file-att -->
									<a *ngIf="file.fileType == 1" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-word.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 2" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-excel.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 3" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-pdf.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 4" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-image.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 6" appViewFile [linkfile]="file.filePath" [namefile]="file.name"
										title="Xem file" style="color: #333;">
										<img src="../../../../assets/dist/images/file-powerpoint.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 7" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/mp4-svgrepo-com.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<i (click)="DownloadFile(file)" class="ml-2 bi bi-download"></i>

									<!-- <span style="margin-left:15px;" *ngFor="let file of filesModel" class="pointer">
										<span>

											<a *ngIf="file.fileType == 1" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>
											</a>
											<a *ngIf="file.fileType == 2" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 3" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 4" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 6" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333;">
												<i class="bi bi-download"></i>

											</a>
											<a *ngIf="file.fileType == 7" download href="javascript:void(0)" (click)="DownloadFile(file)"
												style="color: #333; width:auto;">
												<i class="bi bi-download"></i>

											</a>

										</span>
									</span> -->

								</div>
							</ng-container>
						</div>
					</div>
				</div>
				<app-infomation-exchange *ngIf="model.status > 4 && !(model.status == 5 && model.isForwardProcess)"
					[RecommentId]="model.id" [IsPagePublic]="true">
				</app-infomation-exchange>
			</div>

			<div class="col-md-4 col-lg-4 d-lg-block sidebar-ct pl-3 pl-lg-0">
				<app-statistics-right [isShowSatisfationChart]="true"></app-statistics-right>
				<app-gallery></app-gallery>
			</div>
		</div>
	</div>
</div>
<!--**********************************
									Content body end
							***********************************-->
<div class="content-nd mb-5">
	<div class="container">
		<div class="row justify-content-between margin-top-16">
			<div class="col-lg-8 col-md-8">
				<ol class="breadcrumb px-0 bg-transparent border-bottom mb-0">
					<li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
					<li class="breadcrumb-item active"><a [routerLink]="['/cong-bo/danh-sach-phan-anh-kien-nghi']"
							class="font-weight-bold">Phản ánh, Kiến nghị</a></li>
				</ol>
				<div class="box" *ngIf="!model" style="text-align: center;">
					<strong>Không tìm thấy dữ liệu</strong>
				</div>
				<div class="box mt-3" *ngIf="model">
					<div class="title-mr font-weight-bold">
						Nội dung kiến nghị:
					</div>
					<p class="h4 font-weight-bold mt-3 text-tranform-first" style="font-size: 14px;">{{model.title}}</p>
					<div class="media pb-3  box-message-publish m-0">
						<div class="media-body">
							<p class="mb-0 text-tranform-first" style="text-align:justify; text-justify:inter-word"
								innerHTML="{{model.content | Change}}">
							</p>
							<span *ngIf="lstFiles && lstFiles.length > 0" class="text-left ">
								<p class="mb-0 font-weight-bold mb-2">Tài liệu đính kèm:</p>
								<div *ngFor="let file of lstFiles" class="mb-2 pointer item-file">
									<a *ngIf="file.fileType == 1" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-word.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 2" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-excel.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 3" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-pdf.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 4" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/file-image.svg" style="width: 30px;padding-right: 5px;"
											alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 6" appViewFile [linkfile]="file.filePath" [namefile]="file.name"
										title="Xem file" style="color: #333;">
										<img src="../../../../assets/dist/images/file-powerpoint.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>
									<a *ngIf="file.fileType == 7" class="pointer" appViewFile [linkfile]="file.filePath"
										[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
										<img src="../../../../assets/dist/images/mp4-svgrepo-com.svg"
											style="width: 30px;padding-right: 5px;" alt="">
										<span class="small text-truncate">{{file.name}}</span>
									</a>

									<i (click)="DownloadFile(file)" class="ml-2 bi bi-download"></i>
								</div>
							</span>
							<div class="tt-v1 d-flex justify-content-end">
								<p class="date-approve">Ngày gửi: {{model.createdDate | date:'HH:mm dd/MM/yyyy'}}</p>
							</div>
							<hr style="border-top: 1px; margin: 0! important; margin-top: 2px !important;">

						</div>

					</div>
					<div class="media pb-4  mb-4 mb-4 box-message-publish">
						<div class="media-body">
							<div class="title-mr font-weight-bold">
								Nội dung trả lời:
							</div>
							<div class="mt-3">
								<div class="mt-2">
									<p class="mt-0 mb-2 line-height-1 font-weight-bold">Cơ quan trả lời: {{model.processUnitName != null ?
										model.processUnitName
										: 'Cơ quan chức năng'}}</p>
								</div>
								<div *ngIf="model.fieldName">
									<p class="my-0 line-height-1 font-weight-bold"> Lĩnh vực: {{model.fieldName}}</p>
								</div>

							</div>
							<p class="mt-3 mb-2 font-weight-bold text-center">Trả lời phản ánh</p>
							<p class="mb-0 text-tranform-first" style="text-align:justify; text-justify:inter-word"
								*ngIf="lstConclusion" innerHTML="{{lstConclusion.content | Change}}">
							</p>
							<p class="mb-0 text-tranform-first" *ngIf="!lstConclusion">
								{{model.contentConclusion != null ? model.contentConclusion : ''}}
							</p>
							<p *ngIf="lstConclusionFiles && lstConclusionFiles.length > 0" class="mb-0 font-weight-bold mb-2">Tài liệu
								đính kèm:</p>
							<div *ngFor="let file of lstConclusionFiles; let i = index" class="pointer item-file mb-2">
								<a *ngIf="file.fileType == 1" class="pointer" appViewFile [linkfile]="file.filePath"
									[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
									<img src="../../../../assets/dist/images/file-word.svg" style="width: 30px;padding-right: 5px;"
										alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<a *ngIf="file.fileType == 2" class="pointer" appViewFile [linkfile]="file.filePath"
									[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
									<img src="../../../../assets/dist/images/file-excel.svg" style="width: 30px;padding-right: 5px;"
										alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<a *ngIf="file.fileType == 3" class="pointer" appViewFile [linkfile]="file.filePath"
									[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
									<img src="../../../../assets/dist/images/file-pdf.svg" style="width: 30px;padding-right: 5px;" alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<a *ngIf="file.fileType == 4" class="pointer" appViewFile [linkfile]="file.filePath"
									[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
									<img src="../../../../assets/dist/images/file-image.svg" style="width: 30px;padding-right: 5px;"
										alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<a *ngIf="file.fileType == 6" appViewFile [linkfile]="file.filePath" [namefile]="file.name"
									title="Xem file" style="color: #333;">
									<img src="../../../../assets/dist/images/file-powerpoint.svg" style="width: 30px;padding-right: 5px;"
										alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<a *ngIf="file.fileType == 7" class="pointer" appViewFile [linkfile]="file.filePath"
									[namefile]="file.name" title="Xem file" style="color: #333; width:auto;">
									<img src="../../../../assets/dist/images/mp4-svgrepo-com.svg" style="width: 30px;padding-right: 5px;"
										alt="">
									<span class="small text-truncate">{{file.name}}</span>
								</a>
								<i (click)="DownloadFile(file)" class="ml-2 bi bi-download"></i>
							</div>
							<div class="tt-v1 d-flex justify-content-end">
								<p *ngIf="[10].includes(model.status)" class="mb-0 date-approve">Ngày trả lời: {{model.approvedDate |
									date : 'HH:mm dd/MM/yyyy'}}
								</p>
								<p *ngIf="[3].includes(model.status)" class="mb-0 date-approve">Ngày trả lời: {{model.denyDate | date :
									'HH:mm dd/MM/yyyy'}}</p>
							</div>


							<div class="row d-flex justify-content-end ml-0" style="margin-top:15px;"
								*ngIf="model && model.status == 10">
								<div class="col col-lg-4 col-md-4 col-sm-12 pl-0 pr-10">
									<button type="button" class="btn btn-outline-success mr-3" style="width: inherit;"
										(click)="changeSatisfaction(1)" [ngClass]="{ 'like': model.quantityType == 1 }">
										<span class="mr-2">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
												class="bi bi-emoji-smile" viewBox="0 0 16 16">
												<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
												<path
													d="M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z" />
											</svg>
										</span>

										Rất Hài lòng ({{model.quantityLike}})
									</button>
								</div>
								<div class="col col-lg-4 col-md-4 col-sm-12 pl-0 pr-10 ">
									<button type="button" class="btn btn-outline-blue mr-3" style="width: inherit;"
										(click)="changeSatisfaction(3)" [ngClass]="{ 'accept': model.quantityType == 3 }">
										<span class="mr-2">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
												class="bi bi-emoji-neutral" viewBox="0 0 16 16">
												<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
												<path
													d="M4 10.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5zm3-4C7 5.672 6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8s1-.672 1-1.5zm4 0c0-.828-.448-1.5-1-1.5s-1 .672-1 1.5S9.448 8 10 8s1-.672 1-1.5z" />
											</svg>
										</span>

										Hài lòng ({{model.quantityAccept}})
									</button>
								</div>
								<div class="col col-lg-4 col-md-4 col-sm-12 pl-0 pr-10 ">
									<button type="button" class="btn btn-outline-secondary" style="width: inherit;"
										(click)="changeSatisfaction(2)" [ngClass]="{ 'dislike': model.quantityType == 2 }">
										<span class="mr-2">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
												class="bi bi-emoji-frown" viewBox="0 0 16 16">
												<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
												<path
													d="M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z" />
											</svg>
										</span>

										Không hài lòng ({{model.quantityDislike}})
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<ng-container *ngIf="model && model.status == 10">
					<app-comment-recommendation [RecommentId]="model.id" [IsPagePublic]="true"></app-comment-recommendation>
				</ng-container>
			</div>
			<div class="col-md-4 col-lg-4 d-lg-block sidebar-ct pl-3 pl-lg-0">
				<app-statistics-right [isShowSatisfationChart]="true"></app-statistics-right>
				<app-gallery></app-gallery>
			</div>
		</div>
		<app-news-hight-light></app-news-hight-light>
	</div>
</div>